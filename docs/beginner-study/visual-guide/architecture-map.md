# ğŸ—ºï¸ í”„ë¡œì íŠ¸ ì•„í‚¤í…ì²˜ ì§€ë„

ì´ ë¬¸ì„œëŠ” í”„ë¡œì íŠ¸ì˜ **ì „ì²´ êµ¬ì¡°ë¥¼ ì‹œê°ì ìœ¼ë¡œ** ë³´ì—¬ì¤ë‹ˆë‹¤.

ë§ˆì¹˜ ì§€ë„ë¥¼ ë³´ë“¯ì´, ì–´ë””ì— ë¬´ì—‡ì´ ìˆëŠ”ì§€ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆì–´ìš”!

---

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡° (ë””ë ‰í† ë¦¬ íŠ¸ë¦¬)

```
nextjs-trm-crud-testdb/
â”‚
â”œâ”€â”€ ğŸ“ src/                          â† ì†ŒìŠ¤ ì½”ë“œì˜ ì§‘
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ app/                      â† ğŸ¯ ë¼ìš°íŒ…ê³¼ í˜ì´ì§€ì˜ ë³¸ê±°ì§€
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ page.tsx              â† ğŸ  ë©”ì¸ í˜ì´ì§€ (/)
â”‚   â”‚   â”‚   â”œâ”€ ì—­í• : ëŒ€ì‹œë³´ë“œ í‘œì‹œ
â”‚   â”‚   â”‚   â”œâ”€ íƒ€ì…: Server Component
â”‚   â”‚   â”‚   â””â”€ í˜¸ì¶œ: ì—†ìŒ (ì •ì  í˜ì´ì§€)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ trm/                  â† TRM ê´€ë ¨ í˜ì´ì§€ë“¤
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ target-products/  â† ì œí’ˆ ê´€ë¦¬ ê¸°ëŠ¥
â”‚   â”‚   â”‚       â”‚
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“„ page.tsx      â† ğŸ“‹ ëª©ë¡ í˜ì´ì§€ (/trm/target-products)
â”‚   â”‚   â”‚       â”‚   â”œâ”€ ì—­í• : ì œí’ˆ ëª©ë¡ ì´ˆê¸° ë°ì´í„° ë¡œë“œ
â”‚   â”‚   â”‚       â”‚   â”œâ”€ íƒ€ì…: Server Component
â”‚   â”‚   â”‚       â”‚   â”œâ”€ í˜¸ì¶œ: serverFetch â†’ API â†’ Service â†’ DB
â”‚   â”‚   â”‚       â”‚   â””â”€ Props ì „ë‹¬: TargetProductList (initialData)
â”‚   â”‚   â”‚       â”‚
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“ new/
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“„ page.tsx  â† âœï¸ ìƒì„± í˜ì´ì§€ (/trm/target-products/new)
â”‚   â”‚   â”‚       â”‚       â”œâ”€ ì—­í• : ì‹ ê·œ ì œí’ˆ ë“±ë¡ í¼ í‘œì‹œ
â”‚   â”‚   â”‚       â”‚       â””â”€ ì»´í¬ë„ŒíŠ¸: TargetProductForm
â”‚   â”‚   â”‚       â”‚
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“ [id]/         â† ë™ì  ë¼ìš°íŠ¸ (ì œí’ˆ ID)
â”‚   â”‚   â”‚           â”‚
â”‚   â”‚   â”‚           â”œâ”€â”€ ğŸ“„ page.tsx  â† ğŸ‘ï¸ ìƒì„¸ í˜ì´ì§€ (/trm/target-products/123)
â”‚   â”‚   â”‚           â”‚   â”œâ”€ ì—­í• : ì œí’ˆ ìƒì„¸ ì •ë³´ í‘œì‹œ
â”‚   â”‚   â”‚           â”‚   â””â”€ í˜¸ì¶œ: serverFetch â†’ API â†’ Service â†’ DB
â”‚   â”‚   â”‚           â”‚
â”‚   â”‚   â”‚           â””â”€â”€ ğŸ“ edit/
â”‚   â”‚   â”‚               â””â”€â”€ ğŸ“„ page.tsx  â† âœï¸ ìˆ˜ì • í˜ì´ì§€ (/trm/target-products/123/edit)
â”‚   â”‚   â”‚                   â”œâ”€ ì—­í• : ì œí’ˆ ì •ë³´ ìˆ˜ì • í¼
â”‚   â”‚   â”‚                   â””â”€ ì»´í¬ë„ŒíŠ¸: TargetProductForm (isEdit=true)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ğŸ“ api/                  â† ğŸ›£ï¸ API ì—”ë“œí¬ì¸íŠ¸ì˜ ì§‘
â”‚   â”‚       â”‚
â”‚   â”‚       â””â”€â”€ ğŸ“ target-products/
â”‚   â”‚           â”‚
â”‚   â”‚           â”œâ”€â”€ ğŸ“„ route.ts      â† ğŸ“¡ ëª©ë¡/ìƒì„± API
â”‚   â”‚           â”‚   â”œâ”€ GET: ì „ì²´ ëª©ë¡ ì¡°íšŒ
â”‚   â”‚           â”‚   â”œâ”€ POST: ìƒˆ ì œí’ˆ ìƒì„±
â”‚   â”‚           â”‚   â”œâ”€ ì—­í• : HTTP ìš”ì²­ ì²˜ë¦¬, Service í˜¸ì¶œ
â”‚   â”‚           â”‚   â”œâ”€ ê²½ë¡œ: /api/target-products
â”‚   â”‚           â”‚   â””â”€ ì‘ë‹µ: { success: true, data: [...] }
â”‚   â”‚           â”‚
â”‚   â”‚           â””â”€â”€ ğŸ“ [id]/
â”‚   â”‚               â””â”€â”€ ğŸ“„ route.ts  â† ğŸ“¡ ë‹¨ê±´ ì¡°íšŒ/ìˆ˜ì •/ì‚­ì œ API
â”‚   â”‚                   â”œâ”€ GET: ë‹¨ê±´ ì¡°íšŒ
â”‚   â”‚                   â”œâ”€ PUT: ì œí’ˆ ì •ë³´ ìˆ˜ì •
â”‚   â”‚                   â”œâ”€ DELETE: ì œí’ˆ ì‚­ì œ
â”‚   â”‚                   â”œâ”€ ì—­í• : ë‹¨ê±´ CRUD ì²˜ë¦¬
â”‚   â”‚                   â””â”€ ê²½ë¡œ: /api/target-products/[id]
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ components/              â† ğŸ§© ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ë“¤
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ ui/                  â† Shadcn UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ button.tsx          â† ë²„íŠ¼
â”‚   â”‚   â”‚   â”œâ”€â”€ input.tsx           â† ì…ë ¥ì°½
â”‚   â”‚   â”‚   â”œâ”€â”€ table.tsx           â† í…Œì´ë¸”
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ğŸ“ trm/
â”‚   â”‚       â””â”€â”€ ğŸ“ target-products/
â”‚   â”‚           â”‚
â”‚   â”‚           â”œâ”€â”€ ğŸ“„ TargetProductList.tsx  â† ğŸ“Š ëª©ë¡ í…Œì´ë¸” (Client Component)
â”‚   â”‚           â”‚   â”œâ”€ ì—­í• : ëª©ë¡ í‘œì‹œ, ì‚­ì œ ê¸°ëŠ¥
â”‚   â”‚           â”‚   â”œâ”€ íƒ€ì…: Client Component ('use client')
â”‚   â”‚           â”‚   â”œâ”€ Props: initialData (ì œí’ˆ ë°°ì—´)
â”‚   â”‚           â”‚   â”œâ”€ ì‚¬ìš©: useState, useOptimisticDelete
â”‚   â”‚           â”‚   â””â”€ ê¸°ëŠ¥: í…Œì´ë¸” ë Œë”ë§, ì‚­ì œ ë²„íŠ¼ ì²˜ë¦¬
â”‚   â”‚           â”‚
â”‚   â”‚           â””â”€â”€ ğŸ“„ TargetProductForm.tsx  â† ğŸ“ ë“±ë¡/ìˆ˜ì • í¼ (Client Component)
â”‚   â”‚               â”œâ”€ ì—­í• : ìƒì„±/ìˆ˜ì • í¼
â”‚   â”‚               â”œâ”€ Props: initialData?, isEdit?
â”‚   â”‚               â””â”€ ê¸°ëŠ¥: í¼ ì…ë ¥, ì œì¶œ, ê²€ì¦
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ lib/                     â† ğŸ”§ ìœ í‹¸ë¦¬í‹°ì™€ í•µì‹¬ ë¡œì§
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ services/             â† âš™ï¸ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (Service Layer)
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ ğŸ“„ targetProduct.service.ts
â”‚       â”‚       â”œâ”€ ì—­í• : DB ì ‘ê·¼, ë°ì´í„° ë³€í™˜ (DTO)
â”‚       â”‚       â”œâ”€ í´ë˜ìŠ¤: TargetProductService
â”‚       â”‚       â”œâ”€ ë©”ì„œë“œ: findAll, findById, create, update, delete
â”‚       â”‚       â”œâ”€ ì‚¬ìš©: Prisma Client
â”‚       â”‚       â””â”€ Export: targetProductService (ì‹±ê¸€í†¤)
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ types/               â† ğŸ“‹ TypeScript íƒ€ì… ì •ì˜
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ ğŸ“„ targetProduct.types.ts
â”‚       â”‚       â”œâ”€ DTO ì •ì˜:
â”‚       â”‚       â”‚   â”œâ”€ TargetProductListItemDto (ëª©ë¡ í•­ëª©)
â”‚       â”‚       â”‚   â”œâ”€ TargetProductResponseDto (ìƒì„¸ ì‘ë‹µ)
â”‚       â”‚       â”‚   â”œâ”€ CreateTargetProductDto (ìƒì„± ìš”ì²­)
â”‚       â”‚       â”‚   â””â”€ UpdateTargetProductDto (ìˆ˜ì • ìš”ì²­)
â”‚       â”‚       â””â”€ ì—­í• : API ì‘ë‹µ/ìš”ì²­ íƒ€ì… ì•ˆì •ì„±
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ utils/               â† ğŸ› ï¸ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ ğŸ“„ serverFetch.ts
â”‚       â”‚       â”œâ”€ ì—­í• : Server Componentì—ì„œ API í˜¸ì¶œ
â”‚       â”‚       â”œâ”€ í•¨ìˆ˜: serverFetch<T>(endpoint, options?)
â”‚       â”‚       â”œâ”€ íŠ¹ì§•: ì œë„¤ë¦­ íƒ€ì…, ì—ëŸ¬ ì²˜ë¦¬
â”‚       â”‚       â””â”€ ì‚¬ìš©ì²˜: page.tsx (Server Component)
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ hooks/               â† ğŸ£ ì»¤ìŠ¤í…€ React í›…
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ ğŸ“„ useOptimisticDelete.ts
â”‚       â”‚       â”œâ”€ ì—­í• : ë‚™ê´€ì  ì—…ë°ì´íŠ¸ë¡œ ì‚­ì œ ì²˜ë¦¬
â”‚       â”‚       â”œâ”€ í›…: useOptimisticDelete<T>
â”‚       â”‚       â”œâ”€ ë°˜í™˜: { handleDelete, isPending, isDeleting }
â”‚       â”‚       â””â”€ íŠ¹ì§•: ì¦‰ì‹œ UI ì—…ë°ì´íŠ¸, ì‹¤íŒ¨ ì‹œ ë³µêµ¬
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ constants/           â† ğŸ” ìƒìˆ˜ ì •ì˜
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ ğŸ“„ routes.ts
â”‚       â”‚       â”œâ”€ ì—­í• : ëª¨ë“  ë¼ìš°íŠ¸ ê²½ë¡œë¥¼ ìƒìˆ˜ë¡œ ê´€ë¦¬
â”‚       â”‚       â””â”€ ì˜ˆ: ROUTES.TRM.TARGET_PRODUCTS
â”‚       â”‚
â”‚       â””â”€â”€ ğŸ“„ prisma.ts            â† Prisma Client ì¸ìŠ¤í„´ìŠ¤
â”‚           â”œâ”€ ì—­í• : ì „ì—­ Prisma Client ì œê³µ
â”‚           â””â”€ ì‹±ê¸€í†¤ íŒ¨í„´
â”‚
â”œâ”€â”€ ğŸ“ prisma/                      â† ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ schema.prisma            â† DB ìŠ¤í‚¤ë§ˆ ì •ì˜
â”‚   â”‚   â”œâ”€ ì—­í• : ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡° ì •ì˜
â”‚   â”‚   â”œâ”€ ëª¨ë¸: target_product, target_product_line, etc.
â”‚   â”‚   â””â”€ ê´€ê³„: @relation ì •ì˜
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ migrations/              â† ë§ˆì´ê·¸ë ˆì´ì…˜ íˆìŠ¤í† ë¦¬
â”‚       â”œâ”€â”€ 20240115_init/          â† ì´ˆê¸° ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚       â”œâ”€â”€ 20240120_add_field/     â† í•„ë“œ ì¶”ê°€
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ ğŸ“ public/                      â† ì •ì  íŒŒì¼ (ì´ë¯¸ì§€, í°íŠ¸ ë“±)
â”‚
â”œâ”€â”€ ğŸ“ docs/                        â† ğŸ“š í•™ìŠµ ê°€ì´ë“œ (ì´ ë¬¸ì„œë“¤!)
â”‚   â”œâ”€â”€ beginner-guide/
â”‚   â”œâ”€â”€ diagrams/
â”‚   â”œâ”€â”€ visual-guide/
â”‚   â””â”€â”€ quiz/
â”‚
â”œâ”€â”€ ğŸ“„ package.json                 â† ğŸ“¦ ì˜ì¡´ì„± ê´€ë¦¬
â”‚   â”œâ”€ ìŠ¤í¬ë¦½íŠ¸: dev, build, start
â”‚   â””â”€ ì˜ì¡´ì„±: next, react, prisma, etc.
â”‚
â”œâ”€â”€ ğŸ“„ tsconfig.json                â† TypeScript ì„¤ì •
â”œâ”€â”€ ğŸ“„ tailwind.config.ts           â† Tailwind CSS ì„¤ì •
â”œâ”€â”€ ğŸ“„ next.config.js               â† Next.js ì„¤ì •
â””â”€â”€ ğŸ“„ .env                         â† í™˜ê²½ ë³€ìˆ˜ (DB ì—°ê²° ì •ë³´)
```

---

## ğŸ—ï¸ ê³„ì¸µë³„ ì•„í‚¤í…ì²˜

### ì „ì²´ ê³„ì¸µ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¨ Presentation Layer (í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µ)               â”‚
â”‚  ì‚¬ìš©ìì—ê²Œ ë³´ì´ëŠ” ë¶€ë¶„                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  ğŸ“„ Server Components (pages)                           â”‚
â”‚    â”œâ”€ ì—­í• : ì´ˆê¸° ë°ì´í„° ë¡œë“œ, SEO, SSR                  â”‚
â”‚    â”œâ”€ ìœ„ì¹˜: src/app/**/page.tsx                        â”‚
â”‚    â”œâ”€ íŠ¹ì§•: async/await ì‚¬ìš© ê°€ëŠ¥                       â”‚
â”‚    â””â”€ ì˜ˆì‹œ: src/app/trm/target-products/page.tsx       â”‚
â”‚                                                         â”‚
â”‚  ğŸ§© Client Components                                   â”‚
â”‚    â”œâ”€ ì—­í• : ì‚¬ìš©ì ìƒí˜¸ì‘ìš©, ìƒíƒœ ê´€ë¦¬                  â”‚
â”‚    â”œâ”€ ìœ„ì¹˜: src/components/**/*.tsx                    â”‚
â”‚    â”œâ”€ íŠ¹ì§•: 'use client', useState, onClick            â”‚
â”‚    â””â”€ ì˜ˆì‹œ: TargetProductList, TargetProductForm       â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“ HTTP ìš”ì²­
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ›£ï¸ API Layer (API ê³„ì¸µ)                                â”‚
â”‚  HTTP ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  ğŸ“¡ API Routes                                          â”‚
â”‚    â”œâ”€ ì—­í• : ìš”ì²­ ê²€ì¦, ì—ëŸ¬ ì²˜ë¦¬, ì‘ë‹µ í˜•ì‹í™”           â”‚
â”‚    â”œâ”€ ìœ„ì¹˜: src/app/api/**/route.ts                    â”‚
â”‚    â”œâ”€ ë©”ì„œë“œ: GET, POST, PUT, DELETE                   â”‚
â”‚    â””â”€ ì˜ˆì‹œ: /api/target-products/route.ts              â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“ Service í˜¸ì¶œ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸ Business Logic Layer (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê³„ì¸µ)            â”‚
â”‚  ì‹¤ì œ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ë¶€ë¶„                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  ğŸ”§ Service Classes                                     â”‚
â”‚    â”œâ”€ ì—­í• : ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, DTO ë³€í™˜, ì¬ì‚¬ìš© ë©”ì„œë“œ      â”‚
â”‚    â”œâ”€ ìœ„ì¹˜: src/lib/services/*.service.ts              â”‚
â”‚    â”œâ”€ ë©”ì„œë“œ: findAll, findById, create, update, deleteâ”‚
â”‚    â””â”€ ì˜ˆì‹œ: targetProductService                       â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“ Prisma ì¿¼ë¦¬
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ—„ï¸ Data Access Layer (ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ)                 â”‚
â”‚  ë°ì´í„°ë² ì´ìŠ¤ì™€ í†µì‹                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  ğŸ’ Prisma ORM                                          â”‚
â”‚    â”œâ”€ ì—­í• : SQL ìƒì„±, íƒ€ì… ì•ˆì „ì„±, ë§ˆì´ê·¸ë ˆì´ì…˜         â”‚
â”‚    â”œâ”€ ìœ„ì¹˜: prisma/schema.prisma                       â”‚
â”‚    â”œâ”€ ë©”ì„œë“œ: findMany, findUnique, create, update, etcâ”‚
â”‚    â””â”€ íŠ¹ì§•: ìë™ íƒ€ì… ìƒì„±                              â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“ SQL ì¿¼ë¦¬
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¾ Database (ë°ì´í„°ë² ì´ìŠ¤)                              â”‚
â”‚  ì‹¤ì œ ë°ì´í„° ì €ì¥ì†Œ                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  ğŸ—ƒï¸ PostgreSQL / MySQL                                 â”‚
â”‚    â”œâ”€ ì—­í• : ì˜êµ¬ ë°ì´í„° ì €ì¥                            â”‚
â”‚    â”œâ”€ í…Œì´ë¸”: target_product, target_product_line, etc â”‚
â”‚    â””â”€ ì—°ê²°: .envì˜ DATABASE_URL                        â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ ë°ì´í„° íë¦„ (ì˜ì¡´ì„± í™”ì‚´í‘œ)

### í˜ì´ì§€ ë¡œë”© ì‹œ (ì„œë²„ â†’ í´ë¼ì´ì–¸íŠ¸)

```
ğŸ“„ page.tsx (Server Component)
    â†“ í˜¸ì¶œ
ğŸ“ serverFetch
    â†“ í˜¸ì¶œ
ğŸ›£ï¸ API Route (GET)
    â†“ í˜¸ì¶œ
âš™ï¸ Service Layer
    â†“ í˜¸ì¶œ
ğŸ’ Prisma ORM
    â†“ ì¿¼ë¦¬
ğŸ’¾ Database

â¬…ï¸ ì‘ë‹µ ì—­ìˆœ â¬…ï¸

ğŸ’¾ Database
    â†‘ ì¿¼ë¦¬ ê²°ê³¼
ğŸ’ Prisma
    â†‘ ë°ì´í„° ë°˜í™˜
âš™ï¸ Service
    â†‘ DTO ë³€í™˜ í›„ ë°˜í™˜
ğŸ›£ï¸ API Route
    â†‘ JSON ì‘ë‹µ
ğŸ“ serverFetch
    â†‘ data ì¶”ì¶œ
ğŸ“„ page.tsx
    â†‘ Props ì „ë‹¬
ğŸ§© Client Component
```

### ì‚¬ìš©ì ì¸í„°ë™ì…˜ ì‹œ (í´ë¼ì´ì–¸íŠ¸ â†’ ì„œë²„)

```
ğŸ‘† ì‚¬ìš©ì í´ë¦­
    â†“
ğŸ§© Client Component
    â†“ fetch í˜¸ì¶œ
ğŸ›£ï¸ API Route (POST/PUT/DELETE)
    â†“ í˜¸ì¶œ
âš™ï¸ Service Layer
    â†“ í˜¸ì¶œ
ğŸ’ Prisma ORM
    â†“ ì¿¼ë¦¬
ğŸ’¾ Database

â¬…ï¸ ì‘ë‹µ ì—­ìˆœ â¬…ï¸

ğŸ§© Client Component
    â†‘ ê²°ê³¼ ì²˜ë¦¬
```

---

## ğŸ“‹ íŒŒì¼ íƒ€ì…ê³¼ ì—­í•  ì •ë¦¬

### íŒŒì¼ íƒ€ì… ë²”ë¡€

| ì•„ì´ì½˜ | íƒ€ì… | ì„¤ëª… |
|--------|------|------|
| ğŸ  | ë©”ì¸ í˜ì´ì§€ | ì•±ì˜ ì‹œì‘ì  |
| ğŸ“‹ | ëª©ë¡ í˜ì´ì§€ | ë°ì´í„° ëª©ë¡ í‘œì‹œ |
| ğŸ‘ï¸ | ìƒì„¸ í˜ì´ì§€ | ë‹¨ê±´ ë°ì´í„° ìƒì„¸ |
| âœï¸ | ìƒì„±/ìˆ˜ì • í˜ì´ì§€ | í¼ í˜ì´ì§€ |
| ğŸ“¡ | API ì—”ë“œí¬ì¸íŠ¸ | HTTP ìš”ì²­ ì²˜ë¦¬ |
| âš™ï¸ | Service/ë¡œì§ | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ |
| ğŸ§© | ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸ | UI ì»´í¬ë„ŒíŠ¸ |
| ğŸ“Š | í…Œì´ë¸”/ë¦¬ìŠ¤íŠ¸ | ëª©ë¡ í‘œì‹œ ì»´í¬ë„ŒíŠ¸ |
| ğŸ“ | í¼ | ì…ë ¥ í¼ ì»´í¬ë„ŒíŠ¸ |
| ğŸ› ï¸ | ìœ í‹¸ë¦¬í‹° | í—¬í¼ í•¨ìˆ˜ |
| ğŸ£ | ì»¤ìŠ¤í…€ í›… | React í›… |
| ğŸ“‹ | íƒ€ì… ì •ì˜ | TypeScript ì¸í„°í˜ì´ìŠ¤ |
| ğŸ” | ìƒìˆ˜ | ìƒìˆ˜ ì •ì˜ |
| ğŸ—„ï¸ | DB ê´€ë ¨ | ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • |

### ê° ê³„ì¸µì˜ ì±…ì„

```
ğŸ“„ Page (Server Component)
   âœ… ì´ˆê¸° ë°ì´í„° ë¡œë“œ
   âœ… SEO (ê²€ìƒ‰ ì—”ì§„ ìµœì í™”)
   âœ… ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§
   âŒ ì‚¬ìš©ì ìƒí˜¸ì‘ìš© (ë²„íŠ¼ í´ë¦­ ë“±)
   âŒ ìƒíƒœ ê´€ë¦¬ (useState ë“±)

ğŸ§© Component (Client Component)
   âœ… ì‚¬ìš©ì ìƒí˜¸ì‘ìš©
   âœ… ìƒíƒœ ê´€ë¦¬ (useState)
   âœ… ì´ë²¤íŠ¸ ì²˜ë¦¬ (onClick ë“±)
   âŒ DB ì§ì ‘ ì ‘ê·¼
   âŒ ë¹„ë°€ ì •ë³´ ë…¸ì¶œ (API í‚¤ ë“±)

ğŸ›£ï¸ API Route
   âœ… HTTP ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬
   âœ… ìš”ì²­ ê²€ì¦
   âœ… ì—ëŸ¬ ì²˜ë¦¬
   âŒ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (Serviceë¡œ ìœ„ì„)

âš™ï¸ Service Layer
   âœ… ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
   âœ… DB ì ‘ê·¼ (Prisma ì‚¬ìš©)
   âœ… DTO ë³€í™˜
   âœ… ë°ì´í„° ê²€ì¦
   âŒ HTTP ì²˜ë¦¬ (APIë¡œ ìœ„ì„)

ğŸ’ Prisma ORM
   âœ… SQL ì¿¼ë¦¬ ìƒì„±
   âœ… íƒ€ì… ì•ˆì „ì„±
   âœ… ë§ˆì´ê·¸ë ˆì´ì…˜ ê´€ë¦¬
   âœ… ê´€ê³„ ê´€ë¦¬
```

---

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥ë³„ íŒŒì¼ ë§¤í•‘

### ì œí’ˆ ëª©ë¡ ì¡°íšŒ

```
ì‚¬ìš©ì â†’ /trm/target-products ì ‘ì†
         â†“
      ğŸ“„ src/app/trm/target-products/page.tsx
         â”œâ”€ serverFetch í˜¸ì¶œ
         â†“
      ğŸ“ src/lib/utils/serverFetch.ts
         â”œâ”€ GET /api/target-products
         â†“
      ğŸ“¡ src/app/api/target-products/route.ts
         â”œâ”€ targetProductService.findAll()
         â†“
      âš™ï¸ src/lib/services/targetProduct.service.ts
         â”œâ”€ prisma.target_product.findMany()
         â†“
      ğŸ’ Prisma ORM
         â”œâ”€ SELECT * FROM target_product...
         â†“
      ğŸ’¾ Database
         â†“
      (ì‘ë‹µ ì—­ìˆœ)
         â†“
      ğŸ§© src/components/trm/target-products/TargetProductList.tsx
         â””â”€ í™”ë©´ì— í…Œì´ë¸” í‘œì‹œ
```

### ì œí’ˆ ì‚­ì œ

```
ì‚¬ìš©ì â†’ ì‚­ì œ ë²„íŠ¼ í´ë¦­
         â†“
      ğŸ§© src/components/trm/target-products/TargetProductList.tsx
         â”œâ”€ useOptimisticDelete ì‚¬ìš©
         â†“
      ğŸ£ src/lib/hooks/useOptimisticDelete.ts
         â”œâ”€ ë‚™ê´€ì  ì—…ë°ì´íŠ¸ (UI ë¨¼ì € ì œê±°)
         â”œâ”€ fetch DELETE ìš”ì²­
         â†“
      ğŸ“¡ src/app/api/target-products/[id]/route.ts
         â”œâ”€ targetProductService.delete(id)
         â†“
      âš™ï¸ src/lib/services/targetProduct.service.ts
         â”œâ”€ prisma.target_product.delete()
         â†“
      ğŸ’ Prisma ORM
         â”œâ”€ DELETE FROM target_product...
         â†“
      ğŸ’¾ Database
         â†“
      (ì‘ë‹µ ì—­ìˆœ)
         â†“
      ğŸ§© Client Component
         â””â”€ ì„±ê³µ/ì‹¤íŒ¨ ì²˜ë¦¬
```

### ì œí’ˆ ìƒì„±

```
ì‚¬ìš©ì â†’ /trm/target-products/new ì ‘ì†
         â†“
      ğŸ“„ src/app/trm/target-products/new/page.tsx
         â”œâ”€ TargetProductForm ë Œë”ë§
         â†“
      ğŸ§© src/components/trm/target-products/TargetProductForm.tsx
         â”œâ”€ í¼ ì…ë ¥
         â”œâ”€ ì œì¶œ ë²„íŠ¼ í´ë¦­
         â”œâ”€ fetch POST ìš”ì²­
         â†“
      ğŸ“¡ src/app/api/target-products/route.ts
         â”œâ”€ targetProductService.create(data)
         â†“
      âš™ï¸ src/lib/services/targetProduct.service.ts
         â”œâ”€ prisma.target_product.create()
         â†“
      ğŸ’ Prisma ORM
         â”œâ”€ INSERT INTO target_product...
         â†“
      ğŸ’¾ Database
         â†“
      (ì‘ë‹µ ì—­ìˆœ)
         â†“
      ğŸ§© Client Component
         â””â”€ ì„±ê³µ ì‹œ ëª©ë¡ í˜ì´ì§€ë¡œ ì´ë™
```

---

## ğŸ’¡ ì´ ì§€ë„ í™œìš©ë²•

### ğŸ†• ìƒˆ ê¸°ëŠ¥ ì¶”ê°€í•  ë•Œ

```
1. ğŸ“‹ íƒ€ì… ì •ì˜ ì‘ì„±
   â†’ src/lib/types/yourEntity.types.ts

2. âš™ï¸ Service ì‘ì„±
   â†’ src/lib/services/yourEntity.service.ts

3. ğŸ“¡ API Routes ì‘ì„±
   â†’ src/app/api/your-entity/route.ts
   â†’ src/app/api/your-entity/[id]/route.ts

4. ğŸ“„ Page ì‘ì„±
   â†’ src/app/your-entity/page.tsx

5. ğŸ§© Component ì‘ì„±
   â†’ src/components/YourEntityList.tsx
   â†’ src/components/YourEntityForm.tsx
```

### ğŸ› ë²„ê·¸ ìˆ˜ì •í•  ë•Œ

```
1. ì–´ëŠ ê³„ì¸µì˜ ë¬¸ì œì¸ì§€ íŒŒì•…
   - UI ë¬¸ì œ? â†’ Component í™•ì¸
   - ë°ì´í„° ë¬¸ì œ? â†’ Service í™•ì¸
   - API ë¬¸ì œ? â†’ API Route í™•ì¸

2. í•´ë‹¹ íŒŒì¼ ì°¾ê¸°
   - ì´ ì§€ë„ì—ì„œ ìœ„ì¹˜ í™•ì¸
   - íŒŒì¼ ì—´ì–´ì„œ ì½”ë“œ í™•ì¸

3. ì—°ê´€ëœ íŒŒì¼ í™•ì¸
   - ì˜ì¡´ì„± í™”ì‚´í‘œ ë”°ë¼ê°€ê¸°
   - í˜¸ì¶œí•˜ëŠ” ìª½/í˜¸ì¶œë°›ëŠ” ìª½ í™•ì¸
```

### ğŸ“– ì½”ë“œ ì´í•´í•  ë•Œ

```
1. ì „ì²´ êµ¬ì¡° íŒŒì•…
   - ë””ë ‰í† ë¦¬ íŠ¸ë¦¬ ë³´ê¸°
   - ê³„ì¸µ êµ¬ì¡° ì´í•´

2. ë°ì´í„° íë¦„ ì¶”ì 
   - ì˜ì¡´ì„± í™”ì‚´í‘œ ë”°ë¼ê°€ê¸°
   - ê° íŒŒì¼ì˜ ì—­í•  í™•ì¸

3. ì£¼ìš” ê¸°ëŠ¥ ë¶„ì„
   - ê¸°ëŠ¥ë³„ íŒŒì¼ ë§¤í•‘ ì°¸ê³ 
   - ì‹¤ì œ ì½”ë“œì™€ ëŒ€ì¡°
```

---

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„

êµ¬ì¡°ë¥¼ ì´í•´í–ˆë‹¤ë©´, ì´ì œ **í€´ì¦ˆë¡œ í™•ì¸**í•´ë´…ì‹œë‹¤!

```
ğŸ“ ë‹¤ìŒ ë‹¨ê³„: quiz/understanding-check.md
```

ë˜ëŠ” ë‹¤ì‹œ ë³µìŠµí•˜ê³  ì‹¶ë‹¤ë©´:

```
ğŸ“– ê¸°ì´ˆ ê°œë…: beginner-guide/02-architecture-basics.md
ğŸ” ì½”ë“œ íë¦„: beginner-guide/01-flow-tracing.md
ğŸ“š íŒ¨í„´ ì°¸ì¡°: beginner-guide/03-patterns-reference.md
```
